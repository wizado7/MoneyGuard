@startuml
actor Пользователь
participant "Мобильное приложение" as App
participant "Keystore/Keychain" as Storage
participant "Бэкенд" as Backend
participant "API" as BankAPI

Пользователь -> App: Открыть приложение
App -> Storage: Получить логин и пароль
Storage -> App: Вернуть логин и пароль
App -> Backend: Авторизация (логин, пароль)
Backend -> App: Успешная авторизация (токен)

App -> Backend: Запрос данных для главной страницы
Backend -> BankAPI: Запрос данных (баланс, транзакции, цели)
BankAPI -> Backend: Вернуть данные
Backend -> App: Вернуть данные

App -> BankAPI: Авторизация (логин, пароль)
BankAPI -> App: Успешная авторизация (токен)
App -> BankAPI: Запрос списка транзакций
BankAPI -> App: Вернуть список транзакций
App -> Backend: Отправить транзакции для обработки
Backend -> BankAPI: Сохранить транзакции
BankAPI -> Backend: Подтверждение сохранения
Backend -> App: Успешное сохранение

Пользователь -> App: Открыть страницу транзакций
App -> Backend: Запрос списка транзакций
Backend -> BankAPI: Запрос списка транзакций
BankAPI -> Backend: Вернуть список транзакций
Backend -> App: Вернуть список транзакций

Пользователь -> App: Открыть страницу целей
App -> Backend: Запрос списка целей
Backend -> BankAPI: Запрос списка целей
BankAPI -> Backend: Вернуть список целей
Backend -> App: Вернуть список целей

Пользователь -> App: Открыть страницу отчетов
App -> Backend: Запрос данных для отчетов
Backend -> BankAPI: Запрос данных для отчетов
BankAPI -> Backend: Вернуть данные
Backend -> App: Вернуть данные

Пользователь -> App: Открыть страницу профиля
App -> Backend: Запрос текущих данных профиля
Backend -> BankAPI: Запрос данных профиля
BankAPI -> Backend: Вернуть данные
Backend -> App: Вернуть данные
Пользователь -> App: Ввести новые данные
App -> Backend: Отправить обновленные данные
Backend -> BankAPI: Сохранить обновленные данные
BankAPI -> Backend: Подтверждение сохранения
Backend -> App: Успешное обновление
@enduml