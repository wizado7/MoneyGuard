@startuml
left to right direction

actor "Незарегистрированный пользователь" as UnregisteredUser
actor "Неавторизованный пользователь" as UnauthorizedUser
actor "Авторизованный пользователь" as AuthorizedUser

rectangle "Финансовый помощник" {
    UnregisteredUser -- (Регистрация)
    UnregisteredUser -- (Ошибка регистрации)

    UnauthorizedUser -- (Авторизация)
    UnauthorizedUser -- (Ошибка авторизации)
    UnauthorizedUser -- (Восстановление пароля)

    AuthorizedUser -- (Просмотр главной страницы)
    AuthorizedUser -- (Просмотр транзакций)
    AuthorizedUser -- (Управление целями)
    AuthorizedUser -- (Просмотр отчетов)
    AuthorizedUser -- (Взаимодействие с ИИ-ассистентом)
    AuthorizedUser -- (Выход из приложения)

    (Регистрация) <.. (Ввод email и пароля) : includes
    (Регистрация) <.. (Проверка уникальности email) : includes
    (Регистрация) <.. (Создание аккаунта) : includes

    (Ошибка регистрации) <.. (Email уже занят) : includes
    (Ошибка регистрации) <.. (Некорректные данные) : includes

    (Авторизация) <.. (Ввод email и пароля) : includes
    (Авторизация) <.. (Проверка данных) : includes
    (Авторизация) <.. (Выдача токена доступа) : includes

    (Ошибка авторизации) <.. (Неверный email или пароль) : includes

    (Восстановление пароля) <.. (Запрос восстановления через email) : includes
    (Восстановление пароля) <.. (Отправка ссылки для сброса пароля) : includes

    (Просмотр главной страницы) <.. (Обзор финансового состояния) : includes
    (Просмотр главной страницы) <.. (Просмотр баланса) : includes
    (Просмотр главной страницы) <.. (Просмотр последних транзакций) : includes
    (Просмотр главной страницы) <.. (Просмотр целей) : includes

    (Просмотр транзакций) <.. (Просмотр данных о транзакции) : includes

    (Управление целями) <.. (Добавление цели) : includes
    (Управление целями) <.. (Редактирование цели) : includes
    (Управление целями) <.. (Удаление цели) : includes

    (Просмотр отчетов) <.. (Просмотр отчетов за день) : includes
    (Просмотр отчетов) <.. (Просмотр отчетов за неделю) : includes
    (Просмотр отчетов) <.. (Просмотр отчетов за месяц) : includes
    (Просмотр отчетов) <.. (Просмотр отчетов за год) : includes
    (Просмотр отчетов) <.. (Просмотр графиков и аналитики) : includes

    (Взаимодействие с ИИ-ассистентом) <.. (Получение рекомендаций) : includes
    (Взаимодействие с ИИ-ассистентом) <.. (Прогнозирование расходов) : includes

    (Получение рекомендаций) <.. (Запрос советов по оптимизации расходов) : includes
    (Прогнозирование расходов) <.. (Прогноз на основе предыдущих данных) : includes
}
@enduml